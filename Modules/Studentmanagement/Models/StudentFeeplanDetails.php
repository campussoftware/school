<?php/* * To change this license header, choose License Headers in Project Properties. * To change this template file, choose Tools | Templates * and open the template in the editor. *//** * Description of AcdExaminationMarks * * @author ramesh */namespace Modules\Studentmanagement\Models;use Core\Model\Node;class StudentFeeplanDetails extends Node{    public $_studentId = NULL;    public $_admissionNo = NULL;       public $_academicYear=NULL;    public function setStudentId($studentId) {        $this->_studentId = $studentId;        return $this;    }    public function getStudentId() {        return $this->_studentId;    }     public function setAdmissionNo($admissionNo) {        $this->_admissionNo = $admissionNo;        return $this;    }    public function getAdmissionNo() {        return $this->_admissionNo;    }       public function setAcademicyear($academicYear) {        $this->_academicYear = $academicYear;        return $this;    }    public function getAcademicyear() {        return $this->_academicYear;    }      public function getStudentFeeDetails(){               $nodeModel = \CoreClass::getModel($this->_nodeName);        $nodeModel->setNodeName($this->_nodeName);        $nodeModel->addCustomFieldToSelect("student_feeplan_details.id", "id");        $nodeModel->addCustomFieldToSelect("fee_list_feetype.name", "feetype");        $nodeModel->addCustomFieldToSelect("fee_list_frequency.name", "frequency");        $nodeModel->addCustomFieldToSelect("student_feeplan_details.amount", "amount");        $nodeModel->addCustomFieldToSelect("student_feeplan_details.concession", "concession");        $nodeModel->addCustomFieldToSelect("student_feeplan_details.amount-student_feeplan_details.concession", "finalamount");        $nodeModel->addCustomFieldToSelect("student_feeplan_details.paid_amount", "paidamount");        $nodeModel->addCustomFieldToSelect("student_feeplan_details.balance", "balance");        $nodeModel->addCustomFieldToSelect("student_feeplan_details.due_date", "due_date");        $nodeModel->addCustomJoin("fee_list_feetype.id", "fee_list_feetype", "fee_list_feetype", "fee_list_feetype.short_code=student_feeplan_details.fee_list_feetype_id");        $nodeModel->addCustomJoin("fee_list_frequency.id", "fee_list_frequency", "fee_list_frequency", "fee_list_frequency.short_code=student_feeplan_details.fee_list_frequency_id");        $nodeModel->addCustomFilter("student_feeplan_details.cur_list_academicyear_id='" . $this->getAcademicyear() . "' ");        $nodeModel->addCustomFilter("(student_feeplan_details.student_admission_id='" . $this->getStudentId() . "')OR (student_feeplan_details.admission_no='" . $this->getAdmissionNo() . "') ");        $nodeModel->getCollection();        $output = $nodeModel->_collections;        return $output;    }        public function getStudentFeeData(){               $nodeModel = \CoreClass::getModel($this->_nodeName);        $nodeModel->setNodeName($this->_nodeName);        $nodeModel->addCustomFieldToSelect("student_feeplan_details.id", "id");        $nodeModel->addCustomFieldToSelect("student_admission_id.name","studentName");        $nodeModel->addCustomFieldToSelect("student_admission_id.roll_no","studentRollNo");        $nodeModel->addCustomFieldToSelect("student_admission_id.cur_list_academicyear_id","stu_cur_academinyeat_id");        $nodeModel->addCustomFieldToSelect("student_admission_id.cur_branch_class_id","cur_branch_class_id");        $nodeModel->addCustomFieldToSelect("student_admission_id.cur_branch_class_section_id","cur_branch_class_section_id");                    $nodeModel->addCustomFieldToSelect("cur_list_academicyear_id.academicyear","academicyear_id");        $nodeModel->addCustomFieldToSelect("student_feeplan_details.fee_list_feetype_id","feetypeId");        $nodeModel->addCustomFieldToSelect("student_feeplan_details.fee_list_frequency_id","feefrequencyId");        $nodeModel->addCustomFieldToSelect("student_feeplan_details.amount","amount");        $nodeModel->addCustomFieldToSelect("student_feeplan_details.concession","concession");        $nodeModel->addCustomFieldToSelect("student_feeplan_details.paid_amount","paid_amount");        $nodeModel->addCustomFieldToSelect("student_feeplan_details.balance","balance");        $nodeModel->addCustomFieldToSelect("student_feeplan_details.due_date","due_date");        $nodeModel->addCustomFieldToSelect("fee_list_feetype_id.name","feetype");        $nodeModel->addCustomFieldToSelect("fee_list_frequency_id.name","feefrequency");        $nodeModel->addCustomJoin("student_admission_id","student_admission","student_admission_id","student_admission_id.id=student_feeplan_details.student_admission_id");        $nodeModel->addCustomJoin("fee_list_feetype_id","fee_list_feetype","fee_list_feetype_id","fee_list_feetype_id.short_code=student_feeplan_details.fee_list_feetype_id");        $nodeModel->addCustomJoin("fee_list_frequency_id","fee_list_frequency","fee_list_frequency_id","fee_list_frequency_id.short_code=student_feeplan_details.fee_list_frequency_id");        $nodeModel->addCustomJoin("cur_list_academicyear_id","cur_list_academicyear","cur_list_academicyear_id","cur_list_academicyear_id.short_code=student_feeplan_details.cur_list_academicyear_id");      $nodeModel->addCustomFilter("student_feeplan_details.cur_list_academicyear_id='" . $this->getAcademicyear() . "' ");        $nodeModel->addCustomFilter("student_feeplan_details.student_admission_id='" . $this->getStudentId() . "' ");        $nodeModel->addCustomFilter("student_feeplan_details.cur_list_academicyear_id='" . $this->getAcademicyear() . "' ");        $nodeModel->getCollection();        $output = $nodeModel->_collections;        return $output;    }    }