<?php/* * To change this license header, choose License Headers in Project Properties. * To change this template file, choose Tools | Templates * and open the template in the editor. *//** * Description of AcdExaminationMarks * * @author ramesh */namespace Modules\Transportmanagement\Models;use Core\Model\Node;class TrStudentRouteDetails extends Node{    public $_studentId = NULL;    public $_admissionNo=NULL;    public $_academicYear=NULL;    public function setStudentId($studentId) {        $this->_studentId = $studentId;        return $this;    }    public function getStudentId() {        return $this->_studentId;    }    public function setAdmissionNo($admissionNo) {        $this->_admissionNo = $admissionNo;        return $this;    }    public function getAdmissionNo() {        return $this->_admissionNo;    }    public function setAcademicyear($academicYear) {        $this->_academicYear = $academicYear;        return $this;    }    public function getAcademicyear() {        return $this->_academicYear;    }    public function studentTransportDetails(){        $nodeModel = \CoreClass::getModel($this->_nodeName);        $nodeModel->setNodeName($this->_nodeName);        $nodeModel->addCustomFieldToSelect("tr_route_assign.id", "id");        $nodeModel->addCustomFieldToSelect("student_admission.first_name", "first_name");        $nodeModel->addCustomFieldToSelect("student_admission.last_name", "last_name");        $nodeModel->addCustomFieldToSelect("tr_route_assign.route_no", "route_no");        $nodeModel->addCustomFieldToSelect("tr_route_assign.route_name", "route_name");        $nodeModel->addCustomFieldToSelect("tr_student_route_details.pickup_location", "pickup_location");        $nodeModel->addCustomFieldToSelect("tr_student_route_details.from_date", "from_date");        $nodeModel->addCustomFieldToSelect("tr_student_route_details.to_date", "to_date");        $nodeModel->addCustomFieldToSelect("tr_student_route_details.amount", "amount");        $nodeModel->addCustomFieldToSelect("tr_student_route_details.schedule_time", "schedule_time");        $nodeModel->addCustomJoin("student_admission.id", "student_admission", "student_admission", "student_admission.id=tr_student_route_details.student_admission_id");        $nodeModel->addCustomJoin("tr_route_assign.id", "tr_route_assign", "tr_route_assign", "tr_route_assign.id=tr_student_route_details.tr_route_assign_id");        $nodeModel->addCustomFilter("tr_student_route_details.student_admission_id='" . $this->getStudentId() . "'");        $nodeModel->addCustomFilter("tr_student_route_details.cur_list_academicyear_id='" . $this->getAcademicyear() . "'");        $nodeModel->getCollection();        $output = $nodeModel->_collections;                return $output;    }}