<?php/* * To change this license header, choose License Headers in Project Properties. * To change this template file, choose Tools | Templates * and open the template in the editor. *//** * Description of AcdExaminationMarks * * @author ramesh */namespace Modules\Contentmanagementsystem\Models;use Core\Model\Node;class CmsNotification extends Node{    public $_studentId = NULL;    public $_admissionNo=NULL;    public $_academicYear=NULL;    public $_subject=NULL;     public $_message=NULL;     public $_leaveDate=NULL;     public $_endDate=NULL;     public $_noticeId=NULL;    public function setNoticeId($noticeId) {        $this->_noticeId = $noticeId;        return $this;    }    public function getNoticeId() {        return $this->_noticeId;    }    public function setStudentId($studentId) {        $this->_studentId = $studentId;        return $this;    }    public function getStudentId() {        return $this->_studentId;    }    public function setAdmissionNo($admissionNo) {        $this->_admissionNo = $admissionNo;        return $this;    }    public function getAdmissionNo() {        return $this->_admissionNo;    }    public function setAcademicyear($academicYear) {        $this->_academicYear = $academicYear;        return $this;    }    public function getAcademicyear() {        return $this->_academicYear;    }      public function setSubject($subject) {        $this->_subject = $subject;        return $this;    }    public function getSubject() {        return $this->_subject;    }      public function setLeaveDate($leaveDate) {        $this->_leaveDate = $leaveDate;        return $this;    }    public function getLeaveDate() {        return $this->_leaveDate;    }      public function setMessage($message) {        $this->_message = $message;        return $this;    }    public function getMessage() {        return $this->_message;    }      public function setEndDate($endDate) {        $this->_endDate = $endDate;        return $this;    }    public function getEndDate() {        return $this->_endDate;    }          public function notificationsList(){            $data=array();        $acdYearId=$this->getAcademicyear();                 $studentModel = \CoreClass::getModel("student_history");        $studentModel->setStudentId($this->getStudentId());        $studentModel->setAcademicyear($acdYearId);        $studentData=$studentModel->getStudentinfo();          $nodeModel = \CoreClass::getModel($this->_nodeName);        $nodeModel->setNodeName($this->_nodeName);           $nodeModel->addCustomFieldToSelect("cms_notification.id", "id");          $nodeModel->addCustomFieldToSelect("cms_notification.notification_code", "notification_code");        $nodeModel->addCustomFieldToSelect("cms_notification_type.name", "name");        $nodeModel->addCustomFieldToSelect("cms_notification.title", "title");        $nodeModel->addCustomFieldToSelect("cms_notification.start_date", "start_date");           $nodeModel->addCustomFieldToSelect("cms_notification.end_date", "end_date");           $nodeModel->addCustomFieldToSelect("cms_notification.description", "description");           $nodeModel->addCustomJoin("cms_notification_type.id", "cms_notification_type", "cms_notification_type", "cms_notification_type.short_code=cms_notification.cms_notification_type_id");               $nodeModel->addCustomFilter("cms_notification.cur_list_academicyear_id='" . $acdYearId . "' ");        $nodeModel->addCustomFilter("(cms_notification.student_admission_id='" . \core::getValueFromArray($studentData, "student_admission_id") . "') OR(cms_notification.student_admission_id='0') ");        $nodeModel->addCustomFilter("(cms_notification.cur_branch_class_section_id='" . \core::getValueFromArray($studentData, "cur_branch_class_section_id") . "') OR(cms_notification.cur_branch_class_section_id='0') ");         $nodeModel->addCustomFilter("(cms_notification.cur_branch_class_id='" . \core::getValueFromArray($studentData, "cur_branch_class_id") . "') OR(cms_notification.cur_branch_class_id='0') ");         $nodeModel->addCustomFilter("(cms_notification.cur_branch_orientation_id='" . \core::getValueFromArray($studentData, "cur_branch_orientation_id") . "') OR(cms_notification.cur_branch_orientation_id='0') ");                 $nodeModel->addCustomFilter("(cms_notification.list_branch_id='" . \core::getValueFromArray($studentData, "list_branch_id") . "') OR(cms_notification.list_branch_id='0') ");                 $nodeModel->getCollection();                $output = $nodeModel->_collections;                  return $output;            }    public function notificationData(){            $data=array();          $nodeModel = \CoreClass::getModel($this->_nodeName);        $nodeModel->setNodeName($this->_nodeName);                   $nodeModel->addCustomFieldToSelect("cms_notification.id", "id");          $nodeModel->addCustomFieldToSelect("cms_notification.notification_code", "notification_code");        $nodeModel->addCustomFieldToSelect("cms_notification_type.name", "name");        $nodeModel->addCustomFieldToSelect("cms_notification.title", "title");        $nodeModel->addCustomFieldToSelect("cms_notification.start_date", "start_date");           $nodeModel->addCustomFieldToSelect("cms_notification.end_date", "end_date");           $nodeModel->addCustomFieldToSelect("cms_notification.description", "description");           $nodeModel->addCustomJoin("cms_notification_type.id", "cms_notification_type", "cms_notification_type", "cms_notification_type.short_code=cms_notification.cms_notification_type_id");               $nodeModel->addCustomFilter("cms_notification.id='" . $this->getNoticeId() . "' ");                $nodeModel->getCollection();                $output = $nodeModel->getRecord();          return $output;            }}