<?php/* * To change this license header, choose License Headers in Project Properties. * To change this template file, choose Tools | Templates * and open the template in the editor. *//** * Description of AcdExaminationMarks * * @author ramesh */namespace Modules\Academics\Models;use Core\Model\Node;class AcdExaminationSchedule extends Node{    public $_studentId = NULL;    public $_admissionNo=NULL;    public $_academicYear=NULL;    public $_classId = NULL;    public function setStudentId($studentId) {        $this->_studentId = $studentId;        return $this;    }    public function getStudentId() {        return $this->_studentId;    }    public function setClassId($studentId) {        $this->_studentId = $studentId;        return $this;    }    public function getClassId() {        return $this->_studentId;    }    public function setAdmissionNo($admissionNo) {        $this->_admissionNo = $admissionNo;        return $this;    }    public function getAdmissionNo() {        return $this->_admissionNo;    }    public function setAcademicyear($academicYear) {        $this->_academicYear = $academicYear;        return $this;    }    public function getAcademicyear() {        return $this->_academicYear;    }    public function examSheduleData(){                       $acdYearId=$this->getAcademicyear();        $studentModel = \CoreClass::getModel("student_history");        $studentModel->setStudentId($this->getStudentId());        $studentModel->setAcademicyear($this->getAcademicyear());        $result=$studentModel->getStudentinfo();        $classId=\Core::getValueFromArray($result, "cur_list_class_id");                $nodeModel = \CoreClass::getModel($this->_nodeName);        $nodeModel->setNodeName($this->_nodeName);           $nodeModel->addCustomFieldToSelect("acd_examination_schedule.id", "id");          $nodeModel->addCustomFieldToSelect("acd_modeofexam.name", "exam_mode");        $nodeModel->addCustomFieldToSelect("acd_examination_schedule.name", "name");        $nodeModel->addCustomFieldToSelect("acd_examination_schedule.start_date", "start_date");        $nodeModel->addCustomFieldToSelect("acd_examination_schedule.end_date", "end_date");                 $nodeModel->addCustomJoin("acd_modeofexam.id", "acd_modeofexam", "acd_modeofexam", "acd_modeofexam.short_code=acd_examination_schedule.acd_modeofexam_id");        $nodeModel->addCustomFilter("acd_examination_schedule.cur_list_academicyear_id='" . $acdYearId . "' ");        $nodeModel->addCustomFilter("acd_examination_schedule.cur_list_class_id='" . $classId . "' ");        $nodeModel->addCustomFilter("acd_examination_schedule.active_status='1' ");        $nodeModel->getCollection();        $output = $nodeModel->_collections;                  return $output;    }    public function ExamShedule() {        $nodeModel = \CoreClass::getModel($this->_nodeName);        $nodeModel->setNodeName($this->_nodeName);           $nodeModel->addCustomFieldToSelect("acd_examination_schedule.id", "id");          $nodeModel->addCustomFieldToSelect("acd_examination_schedule.name", "name");        $nodeModel->addCustomFilter("acd_examination_schedule.cur_list_class_id='" . $this->getClassId() . "' ");        $nodeModel->addCustomFilter("acd_examination_schedule.active_status='1' ");        $nodeModel->setCustomOrderBy();        $nodeModel->addCustomOrderBy("acd_examination_schedule.id", "ASC");        $nodeModel->getCollection();        $output = $nodeModel->_collections;                  return $output;    }}